{
    "sourceFile": "frontend/src/pages/Auth/Navigation.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1750657708147,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1750657708147,
            "name": "Commit-0",
            "content": "import { useState } from \"react\";\r\nimport {\r\n  AiOutlineHome,\r\n  AiOutlineShopping,\r\n  AiOutlineLogin,\r\n  AiOutlineUserAdd,\r\n  AiOutlineShoppingCart,\r\n} from \"react-icons/ai\";\r\nimport { FaHeart } from \"react-icons/fa\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./Navigation.css\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useLogoutMutation } from \"../../redux/api/usersApiSlice\";\r\nimport { logout } from \"../../redux/features/auth/authSlice\";\r\nimport FavoritesCount from \"../Products/FavoritesCount\";\r\n\r\n\r\nconst Navigation = () => {\r\n  const { userInfo } = useSelector((state) => state.auth);\r\n  const { cartItems } = useSelector((state) => state.cart);\r\n\r\n  const [dropdownOpen, setDropdownOpen] = useState(false);\r\n  const [showSidebar, setShowSidebar] = useState(false);\r\n\r\n  const toggleDropdown = () => {\r\n    setDropdownOpen(!dropdownOpen);\r\n  };\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const [logoutApiCall] = useLogoutMutation();\r\n\r\n  const logoutHandler = async () => {\r\n    try {\r\n      await logoutApiCall().unwrap();\r\n      dispatch(logout());\r\n      navigate(\"/login\");\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{ zIndex: 9999 }}\r\n      className={`${\r\n        showSidebar ? \"hidden\" : \"flex\"\r\n      } xl:flex lg:flex md:hidden sm:hidden flex-col justify-between p-4 text-white bg-[#000] w-[4%] hover:w-[15%] h-[100vh]  fixed `}\r\n      id=\"navigation-container\"\r\n    >\r\n      <div className=\"flex flex-col justify-center space-y-4\">\r\n        <Link\r\n          to=\"/\"\r\n          className=\"flex items-center transition-transform transform hover:translate-x-2\"\r\n        >\r\n          <AiOutlineHome className=\"mr-2 mt-[3rem]\" size={26} />\r\n          <span className=\"hidden nav-item-name mt-[3rem]\">HOME</span>{\" \"}\r\n        </Link>\r\n\r\n        <Link\r\n          to=\"/shop\"\r\n          className=\"flex items-center transition-transform transform hover:translate-x-2\"\r\n        >\r\n          <AiOutlineShopping className=\"mr-2 mt-[3rem]\" size={26} />\r\n          <span className=\"hidden nav-item-name mt-[3rem]\">SHOP</span>{\" \"}\r\n        </Link>\r\n\r\n        <Link to=\"/cart\" className=\"flex relative\">\r\n          <div className=\"flex items-center transition-transform transform hover:translate-x-2\">\r\n            <AiOutlineShoppingCart className=\"mt-[3rem] mr-2\" size={26} />\r\n            <span className=\"hidden nav-item-name mt-[3rem]\">Cart</span>{\" \"}\r\n          </div>\r\n\r\n            <div className=\"absolute top-9\">\r\n            {cartItems.length > 0 && (\r\n              <span>\r\n                <span className=\"px-1 py-0 text-sm text-white bg-pink-500 rounded-full\">\r\n                  {cartItems.reduce((a, c) => a + c.qty, 0)}\r\n                </span>\r\n              </span>\r\n             )}\r\n           </div> \r\n        </Link>\r\n\r\n        <Link to=\"/favorite\" className=\"flex relative\">\r\n          <div className=\"flex justify-center items-center transition-transform transform hover:translate-x-2\">\r\n            <FaHeart className=\"mt-[3rem] mr-2\" size={20} />\r\n            <span className=\"hidden nav-item-name mt-[3rem]\">\r\n              Favorites\r\n            </span>{\" \"}\r\n            <FavoritesCount />\r\n          </div>\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"relative\">\r\n        <button\r\n          onClick={toggleDropdown}\r\n          className=\"flex items-center text-gray-800 focus:outline-none\"\r\n        >\r\n          {userInfo ? (\r\n            <span className=\"text-white\">{userInfo.username}</span>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          {userInfo && (\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className={`h-4 w-4 ml-1 {\r\n                dropdownOpen ? \"transform rotate-180\" : \"\"\r\n              }`}\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"white\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth=\"2\"\r\n                d={dropdownOpen ? \"M5 15l7-7 7 7\" : \"M19 9l-7 7-7-7\"}\r\n              />\r\n            </svg>\r\n          )}\r\n        </button>\r\n\r\n        {dropdownOpen && userInfo && (\r\n          <ul\r\n            className={`absolute right-0 mt-2 mr-14 space-y-2 bg-white text-gray-600 ${\r\n              !userInfo.isAdmin ? \"-top-20\" : \"-top-80\"\r\n            } `}\r\n          >\r\n            {userInfo.isAdmin && (\r\n              <>\r\n                <li>\r\n                  <Link\r\n                    to=\"/admin/dashboard\"\r\n                    className=\"block px-4 py-2 hover:bg-gray-100\"\r\n                  >\r\n                    Dashboard\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link\r\n                    to=\"/admin/productlist\"\r\n                    className=\"block px-4 py-2 hover:bg-gray-100\"\r\n                  >\r\n                    Products\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link\r\n                    to=\"/admin/categorylist\"\r\n                    className=\"block px-4 py-2 hover:bg-gray-100\"\r\n                  >\r\n                    Category\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link\r\n                    to=\"/admin/orderlist\"\r\n                    className=\"block px-4 py-2 hover:bg-gray-100\"\r\n                  >\r\n                    Orders\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link\r\n                    to=\"/admin/userlist\"\r\n                    className=\"block px-4 py-2 hover:bg-gray-100\"\r\n                  >\r\n                    Users\r\n                  </Link>\r\n                </li>\r\n              </>\r\n            )}\r\n\r\n            <li>\r\n              <Link to=\"/profile\" className=\"block px-4 py-2 hover:bg-gray-100\">\r\n                Profile\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <button\r\n                onClick={logoutHandler}\r\n                className=\"block w-full px-4 py-2 text-left hover:bg-gray-100\"\r\n              >\r\n                Logout\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        )}\r\n        {!userInfo && (\r\n          <ul>\r\n            <li>\r\n              <Link\r\n                to=\"/login\"\r\n                className=\"flex items-center mt-5 transition-transform transform hover:translate-x-2\"\r\n              >\r\n                <AiOutlineLogin className=\"mr-2 mt-[4px]\" size={26} />\r\n                <span className=\"hidden nav-item-name\">LOGIN</span>\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link\r\n                to=\"/register\"\r\n                className=\"flex items-center mt-5 transition-transform transform hover:translate-x-2\"\r\n              >\r\n                <AiOutlineUserAdd size={26} />\r\n                <span className=\"hidden nav-item-name\">REGISTER</span>\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navigation;"
        }
    ]
}